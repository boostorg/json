#
# Copyright (c) 2019 Vinnie Falco (vinnie.falco@gmail.com)
#
# Distributed under the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#
# Official repository: https://github.com/boostorg/json
#

local has_nlohmann_json = [
    glob lib/nlohmann/single_include/nlohmann/json.hpp ] ;
if $(has_nlohmann_json)
{
    has_nlohmann_json = "" ;
}

local has_rapidjson = [
    glob lib/rapidjson/include/rapidjson/rapidjson.h ] ;
if $(has_rapidjson)
{
    has_rapidjson = "" ;
}

exe bench :
    bench.cpp
    /boost/json//boost_json
    :
    <include>../test
    $(has_nlohmann_json)<define>BOOST_JSON_HAS_NLOHMANN_JSON
    $(has_rapidjson)<define>BOOST_JSON_HAS_RAPIDJSON
    : <location>.//bin.v2
    ;
